!function r(e,t,n){function u(i,a){if(!t[i]){if(!e[i]){var f="function"==typeof require&&require;if(!a&&f)return f(i,!0);if(o)return o(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var s=t[i]={exports:{}};e[i][0].call(s.exports,function(r){var t=e[i][1][r];return u(t?t:r)},s,s.exports,r,e,t,n)}return t[i].exports}for(var o="function"==typeof require&&require,i=0;i<n.length;i++)u(n[i]);return u}({1:[function(r){(function(e){var t={rippleRate:r("./lib/offer_request")};Object.keys(t).forEach(function(r){e[r]=t[r]})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./lib/offer_request":2}],2:[function(r,e){{var t=r("./ripple_util");e.exports=function(r,e,n){var u=e.split("/"),o=t.convertToOfferCurrency(u[0]),i=t.convertToOfferCurrency(u[1]),a=0,f={bid:0,ask:0},c={BOOKOFFERS:"book_offers"},s={BID:1,ASK:2},l=function(){var e=JSON.stringify({id:s.BID,command:c.BOOKOFFERS,taker_pays:o,taker_gets:i}),t=JSON.stringify({id:s.ASK,command:c.BOOKOFFERS,taker_pays:i,taker_gets:o});a++,r.send(e),a++,r.send(t)},v=function(r){var e=JSON.parse(r.data);switch(e.id){case s.BID:f.bid=t.getBestBidPrice(e.result.offers);break;case s.ASK:f.ask=t.getBestAskPrice(e.result.offers)}a--,0==a&&n(f)};return{request:l,response:v}}}},{"./ripple_util":3}],3:[function(r,e,t){{var n=1e6,u=t.XRPtoNumber=function(r){return parseFloat(r)/n},o=(t.convertToOfferCurrency=function(r){var e=r.split(".");return 1===e.length?{currency:e[0]}:{currency:e[0],issuer:e[1]}},t.convertFromOffer=function(r){return r instanceof Object?{currency:r.currency,issuer:r.issuer,value:parseFloat(r.value)}:{currency:"XRP",issuer:"",value:u(r)}}),i=t.convertFromOfferQuality=function(r,e){var r=o(r),e=o(e),t=e.value/r.value;return t},a=t.adjustValueFloor=function(r,e){var t=Math.pow(10,e);return Math.floor(r*t)/t},f=t.adjustValueCeil=function(r,e){var t=Math.pow(10,e);return Math.ceil(r*t)/t},c=Math.log(10),s=t.numberOfDigits=function(r){return Math.floor(Math.log(r)/c)+1},l=3,v=function(){return function(r){return o(r.TakerGets).value>0&&o(r.TakerPays).value>0}};t.getBestBidPrice=function(r){var e=r.filter(v()).map(function(r){var e=1/i(r.TakerGets,r.TakerPays);return a(e,s(e)+l)});return 0===e.length?0:e[0]},t.getBestAskPrice=function(r){var e=r.filter(v()).map(function(r){var e=i(r.TakerGets,r.TakerPays);return f(e,s(e)+l)});return 0===e.length?0:e[0]}}},{}]},{},[1]);